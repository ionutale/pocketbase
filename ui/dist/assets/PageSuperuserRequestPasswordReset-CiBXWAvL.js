import{p as B,i as C,F as D,f,h as q,H as G,d as s,m,j as t,I as H,w as d,k as r,u as _,n as J,o as K,J as M,v as N,x as O,y as Q,z as T,A as U,s as v,K as V,b as P,L as W,E as F,G as X}from"./index-DeFD_e2S.js";var Y=f('<div class="alert alert-success"><div class="icon"><i class="ri-checkbox-circle-line"></i></div> <div class="content"><p>Check <strong class="txt-nowrap"> </strong> for the recovery link.</p></div></div>'),Z=f('<label>Email</label> <input type="email" required/>',1),ss=f('<form class="m-b-base"><div class="content txt-center m-b-sm"><h4 class="m-b-xs">Forgotten superuser password</h4> <p>Enter the email associated with your account and weâ€™ll send you a recovery link:</p></div> <!> <button type="submit"><i class="ri-mail-send-line"></i> <span class="txt">Send recovery link</span></button></form>'),as=f('<!> <div class="content txt-center"><a href="/login" class="link-hint">Back to login</a></div>',1);function rs($,E){B(E,!1);let n=m(""),l=m(!1),h=m(!1);async function I(){if(!s(l)){v(l,!0);try{await P.collection("_superusers").requestPasswordReset(s(n)),v(h,!0)}catch(p){P.error(p)}v(l,!1)}}C(),D($,{children:(p,es)=>{var g=as(),k=q(g);{var R=a=>{var e=Y(),o=t(r(e),2),c=r(o),u=t(r(c)),i=r(u);_(()=>W(i,s(n))),d(a,e)},L=a=>{var e=ss(),o=t(r(e),2);J(o,{class:"form-field required",name:"email",children:K,$$slots:{default:(i,z)=>{const x=X(()=>z.uniqueId);var y=Z(),w=q(y),b=t(w,2);M(b,!0),_(()=>{F(w,"for",s(x)),F(b,"id",s(x))}),N(b,()=>s(n),A=>v(n,A)),d(i,y)}}});var c=t(o,2);let u;_(i=>{u=O(c,1,"btn btn-lg btn-block",null,u,i),c.disabled=s(l)},[()=>({"btn-loading":s(l)})]),Q("submit",e,T(I)),d(a,e)};G(k,a=>{s(h)?a(R):a(L,!1)})}var S=t(k,2),j=r(S);H(j,a=>V?.(a)),d(p,g)},$$slots:{default:!0}}),U()}export{rs as default};
