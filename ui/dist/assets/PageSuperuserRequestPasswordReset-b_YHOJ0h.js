import{p as B,i as C,F as G,f as v,h as q,H,d as s,m,j as t,I as J,w as u,k as r,u as _,n as K,o as A,J as M,v as N,x as O,y as Q,z as T,s as d,K as U,b as P,L as V,D as F,E as W,G as X}from"./index-Ci_bBm9A.js";var Y=v('<div class="alert alert-success"><div class="icon"><i class="ri-checkbox-circle-line"></i></div> <div class="content"><p>Check <strong class="txt-nowrap"> </strong> for the recovery link.</p></div></div>'),Z=v('<label>Email</label> <input type="email" required/>',1),ss=v('<form class="m-b-base"><div class="content txt-center m-b-sm"><h4 class="m-b-xs">Forgotten superuser password</h4> <p>Enter the email associated with your account and weâ€™ll send you a recovery link:</p></div> <!> <button type="submit"><i class="ri-mail-send-line"></i> <span class="txt">Send recovery link</span></button></form>'),as=v('<!> <div class="content txt-center"><a href="/login" class="link-hint">Back to login</a></div>',1);function rs($,E){B(E,!1);let i=m(""),l=m(!1),h=m(!1);async function I(){if(!s(l)){d(l,!0);try{await P.collection("_superusers").requestPasswordReset(s(i)),d(h,!0)}catch(f){P.error(f)}d(l,!1)}}C(),G($,{children:(f,es)=>{var g=as(),k=q(g);{var R=a=>{var e=Y(),n=t(r(e),2),o=r(n),c=t(r(o)),p=r(c);_(()=>V(p,s(i))),u(a,e)},D=a=>{var e=ss(),n=t(r(e),2);K(n,{class:"form-field required",name:"email",children:A,$$slots:{default:(p,j)=>{const x=W(()=>j.uniqueId);var y=Z(),w=q(y),b=t(w,2);M(b,!0),_(()=>{F(w,"for",s(x)),F(b,"id",s(x))}),N(b,()=>s(i),z=>d(i,z)),u(p,y)}}});var o=t(n,2);let c;_(()=>{c=X(o,1,"btn btn-lg btn-block",null,c,{"btn-loading":s(l)}),o.disabled=s(l)}),O("submit",e,Q(I)),u(a,e)};H(k,a=>{s(h)?a(R):a(D,!1)})}var L=t(k,2),S=r(L);J(S,a=>U?.(a)),u(f,g)},$$slots:{default:!0}}),T()}export{rs as default};
