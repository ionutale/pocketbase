import{p as me,a as he,l as R,M as _,d as a,m as x,b as Pa,e as fe,i as ge,f as d,h as u,j as s,k as t,_ as ye,E as Sa,H as v,a0 as oa,$ as Oa,u as j,w as r,z as xe,a2 as n,O as I,s as w,L as q,P as k,G as Aa,x as we,D as qe,a3 as N}from"./index-Ci_bBm9A.js";import{F as ke}from"./FieldsQueryParam-DtLH1vAK.js";var Fe=d('<p class="txt-hint txt-sm txt-right">Requires superuser <code>Authorization:TOKEN</code> header</p>'),Pe=d('<span class="label label-success">Required</span>'),Se=d('<span class="label label-warning">Optional</span>'),Oe=d('<span class="label label-success">Required</span>'),Ae=d('<span class="label label-warning">Optional</span>'),Re=d('<tr><td colspan="3" class="txt-hint txt-bold">Auth specific fields</td></tr> <tr><td><div class="inline-flex"><!> <span>email</span></div></td><td><span class="label">String</span></td><td>Auth record email address.</td></tr> <tr><td><div class="inline-flex"><!> <span>emailVisibility</span></div></td><td><span class="label">Boolean</span></td><td>Whether to show/hide the auth record email when fetching the record data.</td></tr> <tr><td><div class="inline-flex"><span class="label label-success">Required</span> <span>password</span></div></td><td><span class="label">String</span></td><td>Auth record password.</td></tr> <tr><td><div class="inline-flex"><span class="label label-success">Required</span> <span>passwordConfirm</span></div></td><td><span class="label">String</span></td><td>Auth record password confirmation.</td></tr> <tr><td><div class="inline-flex"><span class="label label-warning">Optional</span> <span>verified</span></div></td><td><span class="label">Boolean</span></td><td>Indicates whether the auth record is verified or not. <br/> This field can be set only by superusers or auth records with "Manage" access.</td></tr> <tr><td colspan="3" class="txt-hint txt-bold">Other fields</td></tr>',1),Ce=d('<span class="label label-warning">Optional</span>'),Te=d('<span class="label label-success">Required</span>'),Be=d("Plain text value. <!>",1),je=d("<code></code> object.",1),Ie=d(`File object.<br/> Set to empty value (<code>null</code>, <code>""</code> or <code>[]</code>) to delete
                        already uploaded file(s).`,1),Ne=d('<span class="txt-hint">Format: <code></code></span>'),Ve=d(" <!>",1),De=d('<tr><td><div class="inline-flex"><!> <span> </span></div></td><td><span class="label"> </span></td><td><!></td></tr>'),Ee=d("<button> </button>"),Je=d("<div><!></div>"),Ue=d('<h3 class="m-b-sm"> </h3> <div class="content txt-lg m-b-sm"><p>Create a new <strong> </strong> record.</p> <p>Body parameters could be sent as <code>application/json</code> or <code>multipart/form-data</code>.</p> <p>File upload is supported only via <code>multipart/form-data</code>. <br/> For more info and examples you could check the detailed <a target="_blank" rel="noopener noreferrer">Files upload and handling docs</a>.</p></div> <!> <h6 class="m-b-xs">API details</h6> <div class="alert alert-success"><strong class="label label-primary">POST</strong> <div class="content"><p>/api/collections/<strong> </strong>/records</p></div> <!></div> <div class="section-title">Body Parameters</div> <table class="table-compact table-border m-b-base"><thead><tr><th>Param</th><th>Type</th><th width="50%">Description</th></tr></thead><tbody><!><!></tbody></table> <div class="section-title">Query parameters</div> <table class="table-compact table-border m-b-base"><thead><tr><th>Param</th><th>Type</th><th width="60%">Description</th></tr></thead><tbody><tr><td>expand</td><td><span class="label">String</span></td><td>Auto expand relations when returning the created record. Ex.: <!> Supports up to 6-levels depth nested relations expansion. <br/> The expanded relations will be appended to the record under the <code>expand</code> property (eg. <code></code>). <br/> Only the relations to which the request user has permissions to <strong>view</strong> will be expanded.</td></tr><!></tbody></table> <div class="section-title">Responses</div> <div class="tabs"><div class="tabs-header compact combined left"></div> <div class="tabs-content"></div></div>',1);function ze(Ra,la){me(la,!1);const h=x(),na=x(),z=x(),da=x(),C=x();let o=he(la,"collection",8),H=x(200),Q=x([]);function ia(l){let e=I.dummyCollectionSchemaData(l,!0);return a(h)&&(e.password="12345678",e.passwordConfirm="12345678",delete e.verified),e}R(()=>_(o()),()=>{w(h,o().type==="auth")}),R(()=>_(o()),()=>{w(na,o()?.createRule===null)}),R(()=>a(h),()=>{w(z,a(h)?["password","verified","email","emailVisibility"]:[])}),R(()=>(_(o()),a(z)),()=>{w(da,o()?.fields?.filter(l=>!l.hidden&&l.type!="autodate"&&!a(z).includes(l.name))||[])}),R(()=>Pa,()=>{w(C,I.getApiExampleUrl(Pa.baseURL))}),R(()=>_(o()),()=>{w(Q,[{code:200,body:JSON.stringify(I.dummyCollectionRecord(o()),null,2)},{code:400,body:`
                {
                  "status": 400,
                  "message": "Failed to create record.",
                  "data": {
                    "${o()?.fields?.[0]?.name}": {
                      "code": "validation_required",
                      "message": "Missing required value."
                    }
                  }
                }
            `},{code:403,body:`
                {
                  "status": 403,
                  "message": "You are not allowed to perform this request.",
                  "data": {}
                }
            `}])}),fe(),ge();var ca=Ue(),va=u(ca),Ca=t(va),pa=s(va,2),ba=t(pa),Ta=s(t(ba)),Ba=t(Ta),ja=s(ba,4),Ia=s(t(ja),5),_a=s(pa,2);{let l=Sa(()=>(a(C),_(o()),a(h),n(()=>`
import PocketBase from 'pocketbase';

const pb = new PocketBase('${a(C)}');

...

// example create data
const data = ${JSON.stringify(ia(o()),null,4)};

const record = await pb.collection('${o()?.name}').create(data);
`+(a(h)?`
// (optional) send an email verification request
await pb.collection('${o()?.name}').requestVerification('test@example.com');
`:"")))),e=Sa(()=>(a(C),_(o()),a(h),n(()=>`
import 'package:pocketbase/pocketbase.dart';

final pb = PocketBase('${a(C)}');

...

// example create body
final body = <String, dynamic>${JSON.stringify(ia(o()),null,2)};

final record = await pb.collection('${o()?.name}').create(body: body);
`+(a(h)?`
// (optional) send an email verification request
await pb.collection('${o()?.name}').requestVerification('test@example.com');
`:""))));ye(_a,{get js(){return a(l)},get dart(){return a(e)}})}var ua=s(_a,4),ma=s(t(ua),2),Na=t(ma),Va=s(t(Na)),Da=t(Va),Ea=s(ma,2);{var Ja=l=>{var e=Fe();r(l,e)};v(Ea,l=>{a(na)&&l(Ja)})}var ha=s(ua,4),Ua=s(t(ha)),fa=t(Ua);{var La=l=>{var e=Re(),p=s(u(e),2),m=t(p),y=t(m),V=t(y);{var G=i=>{var b=Pe();r(i,b)},K=i=>{var b=Se();r(i,b)};v(V,i=>{_(o()),n(()=>o()?.fields?.find(b=>b.name=="email")?.required)?i(G):i(K,!1)})}var W=s(p,2),Y=t(W),D=t(Y),X=t(D);{var Z=i=>{var b=Oe();r(i,b)},$=i=>{var b=Ae();r(i,b)};v(X,i=>{_(o()),n(()=>o()?.fields?.find(b=>b.name=="emailVisibility")?.required)?i(Z):i($,!1)})}r(l,e)};v(fa,l=>{a(h)&&l(La)})}var Ma=s(fa);oa(Ma,1,()=>a(da),l=>l.name,(l,e)=>{var p=De(),m=t(p),y=t(m),V=t(y);{var G=c=>{var f=Ce();r(c,f)},K=c=>{var f=Te();r(c,f)};v(V,c=>{a(e),n(()=>!a(e).required||a(e).type=="text"&&a(e).autogeneratePattern)?c(G):c(K,!1)})}var W=s(V,2),Y=t(W),D=s(m),X=t(D),Z=t(X),$=s(D),i=t($);{var b=c=>{var f=Be(),aa=s(u(f));{var ea=T=>{var g=N("It is autogenerated if not set.");r(T,g)};v(aa,T=>{a(e),n(()=>a(e).autogeneratePattern)&&T(ea)})}r(c,f)},Ya=c=>{var f=k(),aa=u(f);{var ea=g=>{var E=N("Number value.");r(g,E)},T=g=>{var E=k(),Xa=u(E);{var Za=F=>{var J=N("JSON array or object.");r(F,J)},$a=F=>{var J=k(),ae=u(J);{var ee=P=>{var U=N("Email address.");r(P,U)},te=P=>{var U=k(),re=u(U);{var se=S=>{var L=N("URL address.");r(S,L)},oe=S=>{var L=k(),le=u(L);{var ne=O=>{var B=je(),ta=u(B);ta.textContent='{"lon":x,"lat":y}',r(O,B)},de=O=>{var B=k(),ta=u(B);{var ie=A=>{var M=Ie();r(A,M)},ce=A=>{var M=k(),ve=u(M);{var pe=ra=>{var qa=Ve(),ka=u(qa),be=s(ka);{var _e=sa=>{var Fa=Ne(),ue=s(t(Fa));ue.textContent='"<collectionId>:<id>"',r(sa,Fa)};v(be,sa=>{a(e),n(()=>Array.isArray(a(e).collectionIds)&&a(e).collectionIds.length>0)&&sa(_e)})}j(()=>q(ka,`Relation record ${a(e),n(()=>a(e).maxSelect===1?"id":"ids")??""}. `)),r(ra,qa)};v(ve,ra=>{a(e),n(()=>a(e).type==="relation")&&ra(pe)},!0)}r(A,M)};v(ta,A=>{a(e),n(()=>a(e).type==="file")?A(ie):A(ce,!1)},!0)}r(O,B)};v(le,O=>{a(e),n(()=>a(e).type==="geoPoint")?O(ne):O(de,!1)},!0)}r(S,L)};v(re,S=>{a(e),n(()=>a(e).type==="url")?S(se):S(oe,!1)},!0)}r(P,U)};v(ae,P=>{a(e),n(()=>a(e).type==="email")?P(ee):P(te,!1)},!0)}r(F,J)};v(Xa,F=>{a(e),n(()=>a(e).type==="json")?F(Za):F($a,!1)},!0)}r(g,E)};v(aa,g=>{a(e),n(()=>a(e).type==="number")?g(ea):g(T,!1)},!0)}r(c,f)};v(i,c=>{a(e),n(()=>a(e).type==="text")?c(b):c(Ya,!1)})}j(c=>{q(Y,(a(e),n(()=>a(e).name))),q(Z,c)},[()=>(_(I),a(e),n(()=>I.getFieldValueType(a(e))))]),r(l,p)});var ga=s(ha,4),za=s(t(ga)),ya=t(za),Ha=s(t(ya),2),xa=s(t(Ha));Oa(xa,{content:"?expand=relField1,relField2.subRelField"});var Qa=s(xa,6);Qa.textContent='"expand": {"relField1": {...}, ...}';var Ga=s(ya);ke(Ga,{});var Ka=s(ga,4),wa=t(Ka);oa(wa,5,()=>a(Q),l=>l.code,(l,e)=>{var p=Ee();let m;var y=t(p);j(()=>{m=Aa(p,1,"tab-item",null,m,{active:a(H)===a(e).code}),q(y,(a(e),n(()=>a(e).code)))}),we("click",p,()=>w(H,a(e).code)),r(l,p)});var Wa=s(wa,2);oa(Wa,5,()=>a(Q),l=>l.code,(l,e)=>{var p=Je();let m;var y=t(p);Oa(y,{get content(){return a(e),n(()=>a(e).body)}}),j(()=>m=Aa(p,1,"tab-item",null,m,{active:a(H)===a(e).code})),r(l,p)}),j(()=>{q(Ca,`Create (${_(o()),n(()=>o().name)??""})`),q(Ba,(_(o()),n(()=>o().name))),qe(Ia,"href",n(()=>"https://pocketbase.io/docs/files-handling")),q(Da,(_(o()),n(()=>o().name)))}),r(Ra,ca),xe()}export{ze as default};
