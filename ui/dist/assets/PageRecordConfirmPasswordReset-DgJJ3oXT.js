import{p as B,a as K,l as U,M as V,e as X,i as Z,F as ee,P as ae,h as m,H as S,d as e,m as _,w as c,f as w,j as s,y as T,k as y,n as j,o as z,J as se,u as k,v as A,x as te,z as re,A as oe,s as u,Q as ne,g as le,b as ie,O as de,L as ce,E as P,G as D}from"./index-C9Y1y-Co.js";var ue=w('<div class="alert alert-success"><div class="icon"><i class="ri-checkbox-circle-line"></i></div> <div class="content txt-bold"><p>Successfully changed the user password.</p> <p>You can now sign in with your new password.</p></div></div> <button type="button" class="btn btn-transparent btn-block">Close</button>',1),fe=w("for <strong> </strong>",1),pe=w('<label>New password</label> <input type="password" required/>',1),ve=w('<label>New password confirm</label> <input type="password" required/>',1),be=w('<form><div class="content txt-center m-b-base"><h5>Reset your user password <!></h5></div> <!> <!> <button type="submit"><span class="txt">Set new password</span></button></form>');function _e(E,$){B($,!1);const q=_();let g=K($,"params",8),x=_(""),C=_(""),f=_(!1),F=_(!1);async function G(){var I,p;if(e(f))return;u(f,!0);const o=new ne("../");try{const v=le((I=g())==null?void 0:I.token);await o.collection(v.collectionId).confirmPasswordReset((p=g())==null?void 0:p.token,e(x),e(C)),u(F,!0)}catch(v){ie.error(v)}u(f,!1)}U(()=>V(g()),()=>{var o;u(q,de.getJWTPayload((o=g())==null?void 0:o.token).email||"")}),X(),Z(),ee(E,{nobranding:!0,children:(o,I)=>{var p=ae(),v=m(p);{var M=n=>{var l=ue(),h=s(m(l),2);T("click",h,()=>window.close()),c(n,l)},O=n=>{var l=be(),h=y(l),Q=y(h),W=s(y(Q));{var Y=a=>{var i=fe(),t=s(m(i)),r=y(t);k(()=>ce(r,e(q))),c(a,i)};S(W,a=>{e(q)&&a(Y)})}var H=s(h,2);j(H,{class:"form-field required",name:"password",children:z,$$slots:{default:(a,i)=>{const t=D(()=>i.uniqueId);var r=pe(),b=m(r),d=s(b,2);se(d,!0),k(()=>{P(b,"for",e(t)),P(d,"id",e(t))}),A(d,()=>e(x),R=>u(x,R)),c(a,r)}}});var J=s(H,2);j(J,{class:"form-field required",name:"passwordConfirm",children:z,$$slots:{default:(a,i)=>{const t=D(()=>i.uniqueId);var r=ve(),b=m(r),d=s(b,2);k(()=>{P(b,"for",e(t)),P(d,"id",e(t))}),A(d,()=>e(C),R=>u(C,R)),c(a,r)}}});var L=s(J,2);let N;k(a=>{N=te(L,1,"btn btn-lg btn-block",null,N,a),L.disabled=e(f)},[()=>({"btn-loading":e(f)})]),T("submit",l,re(G)),c(n,l)};S(v,n=>{e(F)?n(M):n(O,!1)})}c(o,p)},$$slots:{default:!0}}),oe()}export{_e as default};
